{% extends 'dashboard.html' %}
{% load static %}


{% block title %}Update Volunteer{% endblock %}

{% block content %}
<div class="container-fluid">
  <h1>Update Volunteer</h1>

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}

  <form id="volunteerForm" action="{% url 'save_updated_volunteer' %}" method="post" novalidate>
    {% csrf_token %}
    {% for data in data %}
      <input type="hidden" name="vid" value="{{ data.id }}">

      <div class="mb-3">
        <label for="vname">Volunteer Name:</label>
        <input type="text" name="vname" class="form-control" value="{{ data.volunteer_name }}">
        <div id="volNameError" class="error"></div>
      </div>

      <div class="mb-3">
        <label for="vemail">Email:</label>
        <input type="email" name="vemail" class="form-control" value="{{ data.volunteer_email }}" readonly>
        <div id="volEmailError" class="error"></div>
      </div>

      <div class="mb-3">
        <label for="vcon">Contact:</label>
        <input type="text" name="vcon" class="form-control" value="{{ data.volunteer_contact }}">
        <div id="volContactError" class="error"></div>
      </div>

      <div class="mb-3">
        <label for="vpass">Password:</label>
        <input type="password" name="vpass" class="form-control" value="{{ data.volunteer_pass }}" readonly>
        <div id="volPasswordError" class="error"></div>
      </div>

      <div class="mb-3">
        <label for="vrole">Role:</label>
        <select name="vrole" class="form-control">
          {% for i in roles %}
            <option value="{{ i }}" {% if i == data.volunteer_role %} selected {% endif %}>{{ i }}</option>
          {% endfor %}
        </select>
        <div id="volRoleError" class="error"></div>
      </div>
    {% endfor %}

    <div class="d-flex gap-2 mt-4">
      <button type="submit" class="btn btn-primary">Update</button>
      <a href="{% url 'see_volunteers' %}" class="btn btn-secondary">Back</a>
    </div>
  </form>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/myjs_script.js' %}"></script>
{% endblock %}
